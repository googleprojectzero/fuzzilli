{
  "body": "File: src/builtins/set-union.tq\nSymbol: transitioning javascript builtin SetPrototypeUnion(js-implicit context: NativeContext, receiver: JSAny)(other: JSAny): JSSet\nSignature (Torque): transitioning javascript builtin SetPrototypeUnion(js-implicit context: NativeContext, receiver: JSAny)(other: JSAny): JSSet\nSummary:\n- Implements the TC39 Set.prototype.union proposal.\n- Fast paths when `other` is a JSSet or JSMap with no custom iteration: uses CheckSetRecordHasJSSetMethods/Map, NewStableBackingTableWitness, NewUnmodifiedOrderedHashSetIterator/NewUnmodifiedOrderedHashMapIterator, CloneFixedArray to copy the receiver's backing table, then iterates other and calls AddToSetTable for each element.\n- Slow path: obtains keys iterator via GetKeysIterator(otherRec.object, otherRec.keys) and iterates using iterator::IteratorStep and iterator::IteratorValue; uses NormalizeNumberKey semantics indirectly via AddToSetTable which Normalizes keys.\n- Calls/uses (Torque macros and CSA helpers): GetSetRecord, NewStableBackingTableWitness, NewUnmodifiedOrderedHashSetIterator, NewUnmodifiedOrderedHashMapIterator, CloneFixedArray (CodeStubAssembler), AddToSetTable, GetKeysIterator, IteratorStep, IteratorValue, NormalizeNumberKey.\n- Constructs and returns new JSSet with table: resultSetData.\nKey locations: src/builtins/set-union.tq (main), referenced macros in src/builtins/collections.tq and generated CSA in src/builtins/builtins-collections-gen.cc/h.\nWhy useful: Primary entrypoint for control/data-flow in Set union: shows fast-path guards, iterator usage, runtime calls for grow/shrink via AddToSetTable runtime hooks, and where iterator close/exception handling branches are.\n",
  "context": [
    "collections_tq_macros_v1",
    "builtins_collections_gen_v1",
    "add_to_set_table_csa_v1"
  ],
  "explanation": "This record captures the authoritative Torque source for Set.prototype.union, enumerates the Torque macros it calls, and explains why we need it when mapping control/data-flow across Torque and CSA (fast-path guards, iterator use, table cloning, Add/Delete operations). Use this ID to fetch the exact Torque source for subsequent deep analysis.",
  "file_line": "src/builtins/set-union.tq:1-200"
}