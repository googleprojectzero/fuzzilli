{
  "body": "Stage:1 region:KeyedLoadIC_StringIndex_Protector\nTopic: pipeline \u2014 Execution pipeline notes for string keyed loads.\n\nNotes:\n- Ignition: GetKeyedProperty bytecode (interpreter/bytecode-generator.cc, interpreter/interpreter-generator.cc) emits a call to Builtin::kKeyedLoadIC with a FeedbackSlotKind::kLoadKeyed slot (feedback_spec AddKeyedLoadICSlot()). Feedback progression: UNINITIALIZED -> MONOMORPHIC when a string receiver + integer index is observed; the IC installs a Smi data handler created by LoadHandler::LoadIndexedString.\n- Baseline/Sparkplug: baseline/baseline-compiler.cc uses KeyedLoadICBaseline trampoline (Builtins::Generate_KeyedLoadICBaseline) with similar handler decoding; materializes CSA-like checks at runtime: ToInteger/ToIndex, index bounds, allow-out-of-bounds semantics.\n- TurboFan: compiler/js-native-context-specialization.cc:BuildIndexedStringLoad consumes feedback to generate optimized loads. CompilationDependencies::DependOnStringWrapperToPrimitiveProtector attaches the protector dependency so compiled code deopts when protector invalidates.\n- Maglev: maglev/maglev-graph-builder.cc and maglev-ir nodes (maglev-ir.h) build CheckStringOrStringWrapper nodes; the builder calls DependOnStringWrapperToPrimitiveProtector() when assuming wrapper-to-primitive semantics are safe.\n\nGuards across tiers: check receiver is String or String wrapper (with protector intact), canonicalize key to integer, range check index < length, switch on representation (SeqOneByte/TwoByte, External, Cons/Sliced/Thin) and read char; materialize one-char string result. On failures fall back to generic named/property path or megamorphic builtin.\n",
  "context": [
    "inventory"
  ],
  "explanation": "Describes how each VM tier (Ignition, Baseline/Sparkplug, Maglev, TurboFan) consumes KeyedLoadIC feedback and attaches protector dependencies to implement the string-index fast path.",
  "file_line": "src/interpreter/interpreter-generator.cc:GetKeyedProperty; src/interpreter/bytecode-generator.cc:GetKeyedProperty; src/baseline/baseline-compiler.cc:CallBuiltin(Builtin::kKeyedLoadICBaseline); src/builtins/builtins-ic-gen.cc:Generate_KeyedLoadICBaseline; src/compiler/js-native-context-specialization.cc:BuildIndexedStringLoad; src/maglev/maglev-graph-builder.cc:BuildGetKeyedProperty; src/compiler/compilation-dependencies.cc:DependOnStringWrapperToPrimitiveProtector"
}