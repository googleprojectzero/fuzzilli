{
  "body": "Stage:1 region:KeyedLoadIC_StringIndex_Protector\nTopic: protector \u2014 StringWrapper \u201csafe for indexed access\u201d protector.\n\nMainline symbols:\n- Protectors::IsStringWrapperToPrimitiveIntact(Isolate*) and Protectors::InvalidateStringWrapperToPrimitive(Isolate*) \u2014 execution/protectors.h/.cc.\n- Root cell: RootIndex::kStringWrapperToPrimitiveProtector; heap root name: string_wrapper_to_primitive_protector (heap/setup-heap-internal.cc sets it at boot).\n- Isolate hook: Isolate::UpdateStringWrapperToPrimitiveProtectorOnSetPrototype (execution/isolate.cc) \u2014 called on prototype changes.\n\nVariant mapping: historically referred as StringWrapperSafeForIndexedAccess; in current mainline the protector corresponds to StringWrapperToPrimitiveProtector \u2014 map this name explicitly.\n\nValidity conditions & invalidation paths:\n- Invalid when code defines numeric index properties or accessors on String.prototype (objects/lookup.cc and various DefineProperty/runtime paths call Protectors::InvalidateStringWrapperToPrimitive).\n- Prototype mutations (Object.setPrototypeOf or internal prototype updates) that affect String.prototype chain call Isolate::UpdateStringWrapperToPrimitiveProtectorOnSetPrototype which may invalidate the protector.\n- Installing accessors/interceptors or proxies on String.prototype (or making chain observable) causes invalidation via lookup/builtin hooks.\n\nDependency attachment: TF/Maglev call CompilationDependencies::DependOnStringWrapperToPrimitiveProtector(); CSA has CodeStubAssembler::InvalidateStringWrapperToPrimitiveProtector helper used in builtins (builtins/*.tq). Protectors are consulted in objects/lookup.cc to allow string fast-paths.",
  "context": [
    "inventory"
  ],
  "explanation": "Describes the protector used to allow treating String wrappers like primitives for indexed access, its root cell, naming variants, and representative invalidation attach points.",
  "file_line": "src/execution/protectors.h; src/execution/protectors.cc; src/execution/isolate.cc:UpdateStringWrapperToPrimitiveProtectorOnSetPrototype; src/objects/lookup.cc:checks and invalidation; heap/setup-heap-internal.cc:root initialization"
}