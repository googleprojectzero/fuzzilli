{
  "body": "// JSPromise runtime methods in objects/objects.cc\nstatic\nHandle<Object> JSPromise::Fulfill(DirectHandle<JSPromise> promise,\n                                  DirectHandle<Object> value) {\n  ...\n  // 7. Return TriggerPromiseReactions(reactions, value).\n  return TriggerPromiseReactions(isolate, reactions, value,\n                                 PromiseReaction::kFulfill);\n}\n\nstatic\nHandle<Object> JSPromise::Reject(DirectHandle<JSPromise> promise,\n                                 DirectHandle<Object> reason,\n                                 bool debug_event) {\n  ...\n  // 8. Return TriggerPromiseReactions(reactions, reason).\n  return TriggerPromiseReactions(isolate, reactions, reason,\n                                 PromiseReaction::kReject);\n}\n\nMaybeHandle<Object> JSPromise::Resolve(DirectHandle<JSPromise> promise,\n                                       DirectHandle<Object> resolution_obj) {\n  ...\n  // 13. Let job be NewPromiseResolveThenableJob(promise, resolution,\n  //                                             thenAction).\n  DirectHandle<PromiseResolveThenableJobTask> task =\n      isolate->factory()->NewPromiseResolveThenableJobTask(...);\n  MicrotaskQueue* microtask_queue = then_context->microtask_queue();\n  if (microtask_queue) microtask_queue->EnqueueMicrotask(*task);\n  return isolate->factory()->undefined_value();\n}\n\nHandle<Object> JSPromise::TriggerPromiseReactions(\n    Isolate* isolate, DirectHandle<Object> reactions,\n    DirectHandle<Object> argument, PromiseReaction::Type type) {\n  ...\n  // Morph the {reactions} into PromiseReactionJobTasks\n  // and push them onto the microtask queue.\n  while (!IsSmi(*reactions)) {\n    ...\n    MicrotaskQueue* microtask_queue = handler_context->microtask_queue();\n    if (microtask_queue) {\n      microtask_queue->EnqueueMicrotask(*Cast<PromiseReactionJobTask>(task));\n    }\n  }\n  return isolate->factory()->undefined_value();\n}\n",
  "context": [
    "promise_resolve_thenable_job",
    "perform_promise_then",
    "microtask_enqueue",
    "promise_reactions"
  ],
  "explanation": "This RAG entry captures the runtime C++ implementations of JSPromise::Fulfill,::Reject,::Resolve and TriggerPromiseReactions in objects/objects.cc including where they call MicrotaskQueue::EnqueueMicrotask and schedule PromiseResolveThenableJobTask/PromiseReactionJobTask.",
  "file_line": "src/objects/objects.cc: JSPromise::Fulfill/Reject/Resolve/TriggerPromiseReactions locations"
}