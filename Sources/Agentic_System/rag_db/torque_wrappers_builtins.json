{
  "body": "Files: src/builtins/js-to-wasm.tq and src/builtins/wasm-to-js.tq\n- js-to-wasm.tq: Declares runtime and builtins for JS->Wasm adapters.\n  - extern runtime WasmGenericJSToWasmObject(Context, WasmTrustedInstanceData|Undefined, JSAny, Smi): JSAny\n  - extern builtin JSToWasmWrapperAsm, WasmReturnPromiseOnSuspendAsm, JSToWasmStressSwitchStacksAsm\n  - macro JSToWasmWrapperHelper(context, receiver, target, arguments, Promise): JSAny\n    - Handles param marshaling into off-heap buffer (LocationAllocator), converts JS to wasm value representations (I32/F32/F64/I64/refs with JSToWasmObject), constructs wrapperBuffer struct with signature/return buffer pointers and calls to ASM builtins, then JSToWasmHandleReturns to convert returns back to JS and handle multi-return array.\n  - Builtins: JSToWasmWrapper, WasmPromising, WasmStressSwitch call helper with different Promise mode.\n- wasm-to-js.tq: Declares wasm->JS wrapper path and conversion helpers.\n  - extern builtin IterableToFixedArrayForWasm(Context, JSAny, Smi): FixedArray\n  - transitioning macro WasmToJSWrapper(data: WasmImportData): WasmToJSResult\n    - Switches to central stack if needed, sets thread-in-wasm=0, handles wrapper budget and TierUp, decodes signature types and pulls arguments from machine locations to heap FixedArray outParams, performs CallVarargs to JS callable, converts returns using LocationAllocatorForReturns and conversion helpers, re-sets thread-in-wasm=1, returns packed results.\n  - runtime externs: TierUpWasmToJSWrapper, WasmThrowJSTypeError\n- Generated builtins glue in builtins/builtins-wasm-gen.cc references these names.\nNotes: These TQ builtins complement TS/TF builders by implementing generic baseline wrapper paths, used under wasm_generic_wrapper flag, arity mismatch, promising wrappers, stress stack switching, and JSPI.\n",
  "context": [
    "wrappers_ts_builders",
    "tf_wrappers_builders_pipeline",
    "wasm_objects_glue",
    "compiler_pipeline_wasm_wrappers"
  ],
  "explanation": "Indexes the Torque-level builtins and macros used by wrapper paths. They act as generic fallback JS\u2194Wasm adapters, interfacing with LocationAllocator param layout and handling returns and stack switching. Important to understand builtins used by TS/TF wrappers and object glue.",
  "file_line": "builtins/js-to-wasm.tq: top; builtins/wasm-to-js.tq: top macro WasmToJSWrapper"
}