{
  "body": "Handlers catalog (source-anchored):\n\nSummary: This catalog enumerates the handler kinds exposed to feedback vectors for keyed element stores and maps them to the builtins/CSAs that implement them. The primary handler kinds and their encodings are defined in src/ic/handler-configuration.h and -inl.h (Handler bitfields and helpers). Key handler kinds: kElement (fast element store), kElementWithTransition (elements kind transition then store), kSlow (slow runtime path), kProxy (proxy handler), kNativeDataProperty, and kGlobalProxy. For keyed stores the common Smi-encoded handler layout uses KindBits (bits [0..3]) followed by AllowOutOfBoundsBits, IsWasmArrayBits, ElementsKindBits (8 bits) and KeyedAccessStoreModeBits for store-mode-encoded handlers. Handlers may be either a Smi (encoded) pointing to builtins via StoreHandler::StoreFastElementBuiltin(...) / ElementsTransitionAndStoreBuiltin(...) or a StoreHandler object which wraps a validity cell and smi handler.\n\nSource anchors (file:function:lines):\n- Handler bitfield definitions and helpers: src/ic/handler-configuration.h (KindBits, AllowOutOfBoundsBits, ElementsKindBits, KeyedAccessStoreModeBits) (ic/handler-configuration.h:67-369)\n- Inline helpers returning builtins: src/ic/handler-configuration-inl.h (StoreFastElementBuiltin, ElementsTransitionAndStoreBuiltin) (ic/handler-configuration-inl.h:191-218, 205-218)\n- IC assignments and validity cell wrapping: src/ic/ic.cc:KeyedStoreIC::StoreElementHandler (ic/ic.cc:2413-2548) and KeyedStoreIC::StoreElementPolymorphicHandlers (ic/ic.cc:2580-2720)\n- Handler decoding in handler trampoline: src/ic/accessor-assembler.cc (DecodeWord32<StoreHandler::KindBits>, IsSetWord32<StoreHandler::AllowOutOfBoundsBits>, DecodeWord32<StoreHandler::ElementsKindBits>) (ic/accessor-assembler.cc:579-732; ic/accessor-assembler.cc:1245-1407)\n\nHow handlers get updated: IC::SetCache / ConfigureVectorState sequences in src/ic/ic.cc (IC::SetCache / ConfigureMonomorphic/Polymorphic/ConfigureMegamorphic) write either Smi-encoded handler values or StoreHandler objects into FeedbackVector slots and call OnFeedbackChanged to notify tiering manager.\n\nEncoding details (concise):\n- Smi handler payloads encode KindBits and, when Kind==kElement, set ElementsKindBits and AllowOutOfBoundsBits; ElementsTransitionAndStore handlers also encode KeyedAccessStoreModeBits for store-mode semantics. For transition handlers a validity cell is optionally attached via a StoreHandler object to allow prototype validity checks.\n\nCaveats / notes: handler decoding appears both in C++ (accessor-assembler) and CSA-generated builtins (builtins-handler-gen.cc) where low-level bitfield-decoding is emitted as Word32 operations. See the referenced anchors for exact decode sites.\n\nInternal RAG citations used in this document: [keyed_store_ic_elements_transition.overview_topology]\n",
  "context": [
    "keyed_store_ic_elements_transition.overview_topology"
  ],
  "explanation": "Catalog of IC handler encodings and mapping from handler Smi to builtins (StoreFastElementBuiltin / ElementsTransitionAndStoreBuiltin) with file:function anchors for bitfields and decoding sites. Useful for understanding how feedback encodes handler semantics.",
  "file_line": "ic/handler-configuration.h:67-369; ic/handler-configuration-inl.h:191-218; ic/ic.cc:2413-2548; ic/accessor-assembler.cc:579-732"
}