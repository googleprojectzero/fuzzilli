{
  "body": "Key BytecodeGraphBuilder visitors and helpers for with-scope and lookup-slot handling:\n\n1) BuildLdaLookupSlot/VisitLdaLookupSlot(+InsideTypeof)\n- BuildLdaLookupSlot(TypeofMode typeof_mode):\n  PrepareEagerCheckpoint();\n  Node* name = jsgraph()->ConstantNoHole(MakeRefForConstantForIndexOperand(0), broker());\n  const Operator* op = javascript()->CallRuntime(typeof_mode == TypeofMode::kNotInside ? Runtime::kLoadLookupSlot : Runtime::kLoadLookupSlotInsideTypeof);\n  Node* value = NewNode(op, name);\n  environment()->BindAccumulator(value, Environment::kAttachFrameState);\n- VisitLdaLookupSlot() calls BuildLdaLookupSlot(TypeofMode::kNotInside)\n- VisitLdaLookupSlotInsideTypeof() calls BuildLdaLookupSlot(TypeofMode::kInside)\n\n2) Context extension checks and LookupContext/Global fastpaths\n- Environment* CheckContextExtensions(uint32_t depth): orchestrates creation of fast/slow paths checking context extension slots for each depth level.\n  * TryGetScopeInfo() inspects current context-producing node to fetch ScopeInfoRef or from shared_info_.scope_info().\n  * If can depend on EmptyContextExtension, skips dynamic checks; else calls CheckContextExtensionAtDepth.\n- CheckContextExtensionAtDepth(Environment* slow_environment, uint32_t d):\n  LoadContext(depth=d, index=Context::EXTENSION_INDEX). Compare to Undefined; branch. If extension present (IfFalse), merge into slow path environment; else continue fast path.\n- CheckContextExtensionsSlowPath(uint32_t depth): uses javascript()->HasContextExtension(d) and branches to build dynamic checks when TryGetScopeInfo fails.\n\n- BuildLdaLookupContextSlot(ContextKind kind, TypeofMode):\n  depth = operand(2). First call CheckContextExtensions(depth) to get slow_environment.\n  Fast path: do LoadScriptContext/LoadContext with (depth, slot_index).\n  If slow_environment exists: create merge, then Slow path: runtime CallRuntime(kLoadLookupSlot or kLoadLookupSlotInsideTypeof) with name; merge back and set env.\n\n- BuildLdaLookupGlobalSlot(TypeofMode):\n  Same pattern as above but fast path emits LoadGlobal(name, feedback, typeof_mode) with feedback vector. Slow path calls runtime LoadLookupSlot or InsideTypeof.\n\n3) StaLookupSlot\n- VisitStaLookupSlot():\n  Decode flags using interpreter::StoreLookupSlotFlags LanguageModeBit and LookupHoistingModeBit. Choose runtime function id among kStoreLookupSlot_Strict, kStoreLookupSlot_SloppyHoisting, kStoreLookupSlot_Sloppy. Emit javascript()->CallRuntime(fid, name, value). BindAccumulator with frame state.\n\n4) PushContext/PopContext\n- VisitPushContext(): save current context into operand register, set context to accumulator.\n- VisitPopContext(): set context from operand register.\n\n5) CreateWithContext emission\n- VisitCreateWithContext():\n  object = LookupRegister(reg0); scope_info = constant index(1);\n  const Operator* op = javascript()->CreateWithContext(scope_info);\n  Node* context = NewNode(op, object);\n  environment()->BindAccumulator(context);\n\n6) ToObject bytecode in TF builder\n- VisitToObject(): BuildCastOperator(javascript()->ToObject());\n\n7) Other related entries\n- LdaLookupContextSlot{InsideTypeof, ScriptContext variants}, LdaLookupGlobalSlot{InsideTypeof}, and helper BuildLdaLookupContextSlot/BuildLdaLookupGlobalSlot include where typeof-mode affects runtime and global IC operators.\n",
  "context": [
    "v8_with_lookup_and_withscope",
    "bytecodegraph_builder_file",
    "interpreter_lookup_handlers",
    "runtime_scopes_lookup",
    "js_operator_createwith",
    "js_generic_lowering_createwith"
  ],
  "explanation": "This entry summarizes the TurboFan BytecodeGraphBuilder coverage for with-scope creation (JSCreateWithContext) and dynamic name lookup load/store bytecodes, including fast paths via context/global loads guarded by context extension checks, and slow paths via runtime calls. It also points to Push/PopContext and ToObject usage in TF builder.",
  "file_line": "compiler/bytecode-graph-builder.cc:1784-2060, 2294-2366, 3584-3585"
}