{
  "body": "CodeStubAssembler helpers for element stores in src/codegen/code-stub-assembler.cc:\n\n- EmitElementStore: Implements the high-level CSA logic for performing element stores across all elements kinds including fast elements and typed arrays. It calls CheckForCapacityGrow, CopyElementsOnWrite, and the typed-array specialized EmitElementStoreTypedArray when appropriate. It accepts parameters (receiver, key, value, elements_kind, store_mode, miss_label, context, maybe_converted_value) and handles bounds checks, COW handling, capacity growth, and typed-array preparation via PrepareValueForWriteToTypedArray. On failure it branches to the provided miss label.\n\n- TransitionElementsKind: CSA-level helper that performs map/elements-kind transition checks and invokes runtime TransitionElementsKindWithKind when necessary. It uses LoadMapBitField2(map) and decodes ElementsKind from map->bit_field2.\n\n- PrepareValueForWriteToTypedArray<T>: Template instantiations for Word32T, Float32T, Float64T, BigInt etc. Implement per-typed-array value conversion/clamping semantics (ToNumber, clamp, BigInt conversion) and returns the prepared value suitable for writing into the typed array backing store. Called from builtins/builtins-typed-array-gen.cc and EmitElementStoreTypedArray.\n\n- CopyElementsOnWrite: Implements Copy-On-Write semantics (for COW arrays) by allocating a new elements backing store clone and updating the JSObject's elements when necessary.\n\n- CheckForCapacityGrow and TryGrowElementsCapacity: Helpers that check whether an in-bounds store requires growing the backing store capacity and attempt to grow it (possibly calling runtime/Allocate/Transition functions). They return a new FixedArrayBase or signal miss which leads to miss label.\n\nGuard conditions and notes:\n- Emits bounds checks for JSArray/JSTypedArray length; typed arrays also check detached buffer conditions and may tail-call runtime for OOB or ignore based on store_mode (kIgnoreTypedArrayOOB).\n- Handles COW arrays by CopyElementsOnWrite when elements->IsCowArray() and store_mode requires handling COW.\n- Calls PrepareValueForWriteToTypedArray for typed-array stores; typed-array value conversion and clamping semantics are implemented here.\n- Uses DecodeWord32<Map::Bits2::ElementsKindBits> when deciding typed-array element size and whether to use double elements paths.\n\nExtracted from: src/codegen/code-stub-assembler.cc (functions: EmitElementStore, TransitionElementsKind, PrepareValueForWriteToTypedArray<...>, CopyElementsOnWrite, CheckForCapacityGrow, TryGrowElementsCapacity).",
  "context": [
    "keyed_store_ic_UpdateStoreElement",
    "builtins_store_fast_element_ic",
    "builtins_elements_transition_and_store"
  ],
  "explanation": "CSA helpers implement the granular fast-paths used by builtins-generated store handlers. They orchestrate capacity growth, COW copying, typed-array value preparation, and element-kind transitions executed by builtins. Understanding these functions is necessary to trace how a builtin or IC will perform stores and when it falls back to runtime/miss.",
  "file_line": "codegen/code-stub-assembler.cc : functions EmitElementStore, TransitionElementsKind, PrepareValueForWriteToTypedArray, CopyElementsOnWrite, CheckForCapacityGrow, TryGrowElementsCapacity"
}