{
  "body": "Anchors and symbols for Keyed Element Load IC (fast paths and state machine):\n\n1) IC control and state transitions (UNINITIALIZED\u2192MONOMORPHIC\u2192POLYMORPHIC\u2192MEGAMORPHIC)\n- File: ic/ic.cc\n  - Symbols:\n    - IC::IC(Isolate*, Handle<FeedbackVector>, FeedbackSlot, FeedbackSlotKind)\n    - IC::ConfigureVectorState(State new_state, DirectHandle<Object> key)\n    - IC::ConfigureVectorState(DirectHandle<Name>, DirectHandle<Map>, Handle<Object>/MaybeObjectHandle)\n    - IC::ConfigureVectorState(DirectHandle<Name>, MapsAndHandlers const&)\n    - IC::UpdateState, IC::SetCache, IC::UpdatePolymorphicIC, IC::CopyICToMegamorphicCache\n    - InlineCacheState aliases: UNINITIALIZED, MONOMORPHIC, POLYMORPHIC, MEGAMORPHIC, MEGADOM\n  - KeyedLoad transitions usage:\n    - KeyedLoadIC::UpdateLoadElement\n    - KeyedLoadIC::LoadElementPolymorphicHandlers\n    - KeyedLoadIC::GetKeyedAccessLoadModeFor\n- Snippets:\n  - state enum aliases lines ~40-70\n  - ConfigureVectorState(MEGAMORPHIC, key) lines ~330+, calls nexus()->ConfigureMegamorphic(IcCheckType::kElement)\n  - SetCache switch: UNINITIALIZED\u2192monomorphic; MONOMORPHIC/POLYMORPHIC\u2192maybe polymorphic or MEGAMORPHIC; MEGAMORPHIC\u2192stub cache\n\n2) KeyedLoadIC dispatch and updating\n- File: ic/ic.cc\n  - KeyedLoadIC::Load(Handle<JSAny> object, Handle<Object> key)\n    - TryConvertKey to intptr or name; calls RuntimeLoad; computes KeyedAccessLoadMode via GetNewKeyedLoadMode; UpdateLoadElement(receiver, load_mode); fall back to MEGAMORPHIC if needed.\n  - KeyedLoadIC::UpdateLoadElement(HeapObject receiver, KeyedAccessLoadMode new_mode)\n    - Assembles target maps, handles MONOMORPHIC optimization for elements kind transitions, builds handlers via LoadElementPolymorphicHandlers.\n  - KeyedLoadIC::LoadElementHandler(Map, KeyedAccessLoadMode)\n    - Builds LoadHandler::LoadElement DH Smi with ElementsKind, handles interceptors, strings, sloppy arguments, dictionary, fast kinds, typed arrays; ensures hole/OOB bits consistent.\n  - Helper lattice for modes\n    - GetNewKeyedLoadMode(...), GetUpdatedLoadModeForMap(...), AllowConvertHoleElementToUndefined, AllowReadingHoleElement, IsOutOfBoundsAccess\n\n3) Handler installation\n- File: ic/handler-configuration-inl.h\n  - LoadHandler::LoadElement(Isolate*, ElementsKind, bool is_js_array, KeyedAccessLoadMode)\n  - Bits: Kind::kElement, ElementsKindBits, AllowOutOfBoundsBits, AllowHandlingHole, IsJsArrayBits\n  - LoadHandler::LoadIndexedString for string receivers\n\n4) AccessorAssembler (CSA) handlers for element loads by elements kind\n- File: ic/accessor-assembler.cc/h\n  - Entry points (builtins):\n    - GenerateKeyedLoadIC, GenerateEnumeratedKeyedLoadIC, GenerateKeyedLoadIC_Megamorphic, GenerateKeyedLoadIC_PolymorphicName, trampolines and baseline variants.\n  - AccessorAssembler::KeyedLoadIC / KeyedLoadICGeneric / KeyedLoadICPolymorphicName\n    - Polymorphic/megamorphic/uninitialized/name-flow; tailcalls to runtime/builtins.\n  - HandleLoadICSmiHandlerCase path for elements:\n    - LOAD_KIND(kElement): decodes ElementsKind from Smi handler; EmitElementLoad(...)\n  - EmitElementLoad handles:\n    - Fast packed and holey elements (SMI/OBJECT/DOUBLE)\n    - Dictionary elements (NumberDictionary) with hole handling\n    - Typed arrays (fixed and RAB/GSAB), BigInt typed arrays\n    - Bounds checks and prototype-chain-no-elements fast OOB-to-undefined\n    - Hole-to-undefined cases guarded by IsNoElementsProtector\n  - KeyedLoadIC_Megamorphic tailcalls KeyedLoadICGeneric which uses GenericElementLoad/GenericPropertyLoad.\n\n5) Elements kind lattice and transitions\n- Files: objects/elements-kind.h, objects/elements-kind.cc, objects/elements.cc\n  - enum ElementsKind { PACKED_SMI_ELEMENTS, HOLEY_SMI_ELEMENTS, PACKED_ELEMENTS, HOLEY_ELEMENTS, PACKED_DOUBLE_ELEMENTS, HOLEY_DOUBLE_ELEMENTS, ... DICTIONARY_ELEMENTS, ... typed kinds, RAB_GSAB typed kinds }\n  - Helpers:\n    - IsFastElementsKind, IsHoleyElementsKind, IsSmiOrObjectElementsKind, IsDoubleElementsKind, GetHoleyElementsKind, GetPackedElementsKind, IsMoreGeneralElementsKindTransition\n  - ElementsAccessor implementations for fast/sparse/typed; hole behavior and copying; TransitionElementsKindImpl/JSObject::TransitionElementsKind.\n\n6) AllocationSite mementos and array literal feedback\n- Files: objects/allocation-site-inl.h/objects.cc, runtime/runtime-literals.cc\n  - AllocationSite::GetElementsKind/SetElementsKind, DigestTransitionFeedback (updates site or boilerplate elements kind on observed transition), ShouldTrack(...)\n  - runtime-literals CreateArrayLiteral, DeepWalk: installs AllocationSite and boilerplate, tracks nested array/object literals.\n  - StoreInArrayLiteralIC and array literal paths feed elements kind transitions for literals via UpdateStoreElement and AllocationSite::DigestTransitionFeedback via ElementsAccessor paths.\n\n7) Canonical handler names/prefixes & holes/prototype misses\n- Handler names/prefixes:\n  - Smi handler kinds: LoadHandler::Kind::kElement (LoadElementDH), kIndexedString; stats macros in ic/ic.cc: KeyedLoadIC_LoadElementDH, KeyedLoadIC_LoadIndexedStringDH, KeyedLoadIC_SlowStub\n  - Builtins: KeyedLoadIC, KeyedLoadIC_Megamorphic, KeyedLoadIC_PolymorphicName, KeyedLoadICTrampoline(_Megamorphic), KeyedLoadICBaseline\n  - CSA internal: EmitElementLoad, GenericElementLoad, GenericPropertyLoad; HandleLoadICHandlerCase/HandleLoadICSmiHandlerCase\n- Hole-to-undefined behavior:\n  - Enabled if AllowHandlingHole bit set and NoElements protector intact; see ic/ic.cc AllowConvertHoleElementToUndefined + AllowReadingHoleElement + AccessorAssembler::HandleLoadICSmiHandlerCase paths that return undefined or false for kHas.\n- Prototype-chain miss handling:\n  - IC side: If OOB but prototype chain may have elements, miss to runtime; CSA BranchIfPrototypesHaveNoElements gates fast undefined; otherwise Generic load or runtime path; IC::UpdateState/SetCache handles recompute/transition to megamorphic accordingly.\n",
  "context": [
    "ic_ic_states",
    "keyedload_update_load_element",
    "loadhandler_elements_smi_bits",
    "aa_emit_element_load",
    "elements_kind_lattice",
    "allocsite_digest_feedback",
    "ic_stats_names",
    "hole_to_undefined_protector",
    "proto_chain_no_elements_gate"
  ],
  "explanation": "This RAG entry indexes the core symbols and files that implement keyed element LoadIC fast paths for arrays, tying together the IC state machine in ic/ic.cc, the element handler construction in handler-configuration, and the CodeStubAssembler-generated element loading logic in accessor-assembler (EmitElementLoad) specialized by ElementsKind. It also references ElementsKind lattice helpers and AllocationSite feedback for array literals. It captures canonical handler names and hole/prototype behaviors required by the task.",
  "file_line": "ic/ic.cc:56-81, 1162-1464, 1547-1609; ic/handler-configuration-inl.h:LoadHandler::LoadElement; ic/accessor-assembler.cc:3599-3860, 5149-5690; objects/elements-kind.h:105-565; objects/elements.cc:1082-1466,1885-2065; objects/allocation-site-inl.h:101-266; runtime/runtime-literals.cc:160-334"
}