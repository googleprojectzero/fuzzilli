{
  "body": "Maglev IR nodes declared in maglev/maglev-ir.h and implemented in maglev/maglev-ir.cc for TypedArrays:\n\n- LoadTypedArrayLength : class LoadTypedArrayLength : FixedInputValueNodeT<1, LoadTypedArrayLength>\n  * Builder: AddNewNode<LoadTypedArrayLength>({object}, elements_kind)\n  * Codegen: Implementations in maglev-IR platform files: maglev/x64/maglev-ir-x64.cc, maglev/arm64/maglev-ir-arm64.cc, maglev/arm/maglev-ir-arm.cc, maglev/ppc/maglev-ir-ppc.cc, maglev/riscv/maglev-ir-riscv.cc, maglev/s390/maglev-ir-s390.cc. e.g., maglev/x64/maglev-ir-x64.cc:71-85 implements SetValueLocationConstraints/GenerateCode to load JSTypedArray::kRawByteLengthOffset.\n\n- CheckTypedArrayNotDetached : class CheckTypedArrayNotDetached : FixedInputNodeT<1, CheckTypedArrayNotDetached>\n  * Builder: AddNewNode<CheckTypedArrayNotDetached>({object}) from TryBuildElementAccessOnTypedArray; also dependency on ArrayBuffer detaching protector via broker()->dependencies()->DependOnArrayBufferDetachingProtector().\n  * Codegen: maglev/maglev-ir.cc implements GenerateCode(CheckTypedArrayNotDetached) around lines ~7239-7281.\n\n- CheckTypedArrayBounds : class CheckTypedArrayBounds : FixedInputNodeT<2, CheckTypedArrayBounds>\n  * Builder: AddNewNode<CheckTypedArrayBounds>({index, length}) in TryBuildElementAccessOnTypedArray.\n  * Codegen: maglev/maglev-ir.cc implements SetValueLocationConstraints and GenerateCode at ~3879-3888 and 3888+.\n\n- Load{SignedInt,UnsignedInt,Double}TypedArrayElement and constant variants\n  * Declared through macros in maglev-ir.h (lines ~9424-9519,9441,9472 etc.).\n  * Builder: BuildLoadTypedArrayElement / BuildLoadConstantTypedArrayElement create specific nodes (maglev-graph-builder.cc around 5933-5962 and 5958+).\n  * Codegen: maglev/maglev-ir.cc contains helpers GenerateTypedArrayLoad/Store and per-node generation macros at ~7281-7472 for loads and ~7350-7425 for stores. These call MaglevAssembler helpers to BuildTypedArrayDataPointer and TypedArrayElementOperand which are defined in maglev-assembler-inl headers for each architecture: maglev/maglev-assembler.h and maglev/x64/maglev-assembler-x64-inl.h etc. e.g., TypedArray data pointer helpers at maglev/x64/maglev-assembler-x64-inl.h:331-347 and TypedArrayElementOperand at 347+.\n\n- StoreIntTypedArrayElement / StoreDoubleTypedArrayElement and constant variants\n  * Builder: BuildStoreTypedArrayElement chooses Store##Type##TypedArrayElement nodes.\n  * Codegen: maglev/maglev-ir.cc helpers GenerateTypedArrayStore/GenerateTypedArrayStoreToDataPointer implemented ~7350-7398; these call __ StoreField or appropriate typed store via MaglevAssembler::TypedArrayElementOperand.\n\n- Index coercion nodes:\n  * CheckedObjectToIndex : FixedInputValueNodeT<1, CheckedObjectToIndex> used when key is tagged non-int; builder uses AddNewNode<CheckedObjectToIndex> and GetInt32ElementIndex uses CheckedObjectToIndex for Tagged->Int32 coercion.\n  * CheckedInt32ToUint32, CheckedHoleyFloat64ToUint32 etc. are used in GetUint32ElementIndex and GetInt32ElementIndex.\n\n- Protections & dependencies:\n  * Broker dependencies use broker()->dependencies()->DependOnArrayBufferDetachingProtector() to decide whether to add CheckTypedArrayNotDetached or rely on protector. This occurs in TryBuildElementAccessOnTypedArray (maglev-graph-builder.cc:6062+).\n  * Also builder records KnownNodeAspects::TypedArrayLength and calls RecordKnownProperty to cache typed-array length (maglev-graph-builder.cc:5917-5933 and 7091+ printouts). KnownNodeAspects helpers are in maglev-known-node-aspects.h.\n\n- Deopt emission points:\n  * Wrong-map deopts: EmitUnconditionalDeopt(DeoptimizeReason::kWrongMap) in many places, notably if inferred maps empty or when accessing typed array length via prototype. See maglev-graph-builder.cc spots around 5437+ and BuildCheckMaps code (maglev-graph-builder.cc ~2200+).\n  * Detached/OOBA: CheckTypedArrayNotDetached and CheckTypedArrayBounds emit Deopt with DeoptimizeReason::k... (CheckTypedArrayBounds uses DeoptimizeReason::kOutOfBounds). See maglev-ir.cc CheckTypedArrayBounds GenerateCode lines ~3879-3888 and CheckTypedArrayNotDetached generate around ~7239-7281.\n  * Megamorphic fallback: TryBuildElementAccess (maglev-graph-builder.cc) emits Builtin::kKeyedLoadIC_Megamorphic / KeyedStoreIC_Megamorphic when feedback.transition_groups().empty() (maglev-graph-builder.cc:?? ~? earlier). Also TryBuildNamedAccess handles megamorphic named feedback with LoadIC_Megamorphic/StoreIC_Megamorphic.\n\n- MaglevAssembler entry points and helpers:\n  * BuildTypedArrayDataPointer(Register data_pointer, Register object) - declared in maglev/maglev-assembler.h and inlined in architecture-specific maglev-assembler-*-inl.h (x64: maglev/x64/maglev-assembler-x64-inl.h:331-347; arm64: maglev/arm64/maglev-assembler-arm64-inl.h:461-478; ppc/riscv/s390/arm in their respective inl.h files).\n  * TypedArrayElementOperand(Register data_pointer, Register index, int element_size) - architecture-specific implementations in maglev-assembler-*-inl.h (x64: maglev/x64/maglev-assembler-x64-inl.h:347+, ppc/riscv etc.).\n  * GenerateTypedArrayLoad/GenerateTypedArrayStore helpers in maglev/maglev-ir.cc lines ~7281-7398 implement element-size scaling and base+offset addressing by calling above assembler helpers.\n\nFile/line anchors provided in fields above (maglev-graph-builder.cc, maglev-ir.h, maglev-ir.cc, maglev-assembler-inl.h platforms).",
  "context": [
    "maglev_trybuild_loadnamed_typedarray_length",
    "maglev_trybuild_element_typedarray"
  ],
  "explanation": "Comprehensive mapping of Maglev GraphBuilder entry points -> IR nodes -> codegen helpers for TypedArray named loads (length) and keyed element loads/stores, where guards/protector dependencies are registered and deopts/fallbacks emitted. Includes file-level anchors and function names for assembler helpers across architectures.",
  "file_line": "maglev/maglev-ir.h:8011-8061; maglev/maglev-ir.cc:7281-7400; maglev/maglev-graph-builder.cc:5437-6121; maglev/x64/maglev-assembler-x64-inl.h:331-347"
}